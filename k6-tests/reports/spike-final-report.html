<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Spike Test Report - Datos Reales</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #e74c3c, #34495e); min-height: 100vh; }
        .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 15px; padding: 0; box-shadow: 0 10px 30px rgba(0,0,0,0.3); overflow: hidden; }
        .header { background: linear-gradient(45deg, #2c3e50, #e74c3c); color: white; padding: 30px; text-align: center; }
        .header h1 { margin: 0; font-size: 2.5em; font-weight: 300; }
        .header h2 { margin: 15px 0; font-size: 1.4em; opacity: 0.9; }
        .status-badge { display: inline-block; padding: 10px 20px; border-radius: 25px; background: rgba(255,255,255,0.2); margin: 15px 0; font-weight: bold; }
        .content { padding: 30px; }
        .process-info { background: linear-gradient(45deg, #00b894, #00cec9); color: white; padding: 25px; border-radius: 12px; margin: 25px 0; text-align: center; }
        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }
        .metric-card { background: #f1f2f6; padding: 25px; border-radius: 12px; text-align: center; transition: all 0.3s ease; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .metric-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
        .metric-value { font-size: 2.2em; font-weight: bold; margin-bottom: 10px; }
        .metric-label { color: #636e72; font-size: 1em; font-weight: 500; }
        .success { border-left: 6px solid #00b894; }
        .success .metric-value { color: #00b894; }
        .warning { border-left: 6px solid #f39c12; }
        .warning .metric-value { color: #f39c12; }
        .danger { border-left: 6px solid #e74c3c; }
        .danger .metric-value { color: #e74c3c; }
        .info { border-left: 6px solid #3498db; }
        .info .metric-value { color: #3498db; }
        .thresholds-section { background: #2d3436; color: white; padding: 30px; border-radius: 12px; margin: 25px 0; }
        .threshold-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #636e72; }
        .threshold-item:last-child { border-bottom: none; }
        .threshold-name { font-weight: 500; }
        .badge-pass { background: #00b894; color: white; padding: 8px 16px; border-radius: 20px; font-size: 0.85em; font-weight: bold; }
        .badge-fail { background: #e74c3c; color: white; padding: 8px 16px; border-radius: 20px; font-size: 0.85em; font-weight: bold; }
        .info-box { background: #f8f9fa; padding: 25px; border-radius: 12px; margin: 25px 0; border-left: 6px solid #e74c3c; }
        .json-link { display: inline-block; margin: 15px 0; padding: 15px 25px; background: #e74c3c; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; transition: all 0.3s ease; }
        .json-link:hover { background: #2c3e50; }
        .command { background: #2d3436; color: #00cec9; padding: 15px; border-radius: 8px; font-family: 'Consolas', 'Monaco', monospace; margin: 10px 0; overflow-x: auto; font-size: 0.9em; }
        .footer { text-align: center; padding: 25px; background: #2d3436; color: white; }
        .results-highlight { background: linear-gradient(45deg, #6c5ce7, #a29bfe); color: white; padding: 25px; border-radius: 12px; margin: 25px 0; }
        .data-extract-info { background: linear-gradient(45deg, #fd79a8, #fdcb6e); color: white; padding: 20px; border-radius: 10px; margin: 20px 0; }
        h3 { margin-top: 0; margin-bottom: 15px; }
        .performance-summary { background: #dff9fb; border: 2px solid #00cec9; padding: 20px; border-radius: 10px; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Reporte K6 Performance</h1>
            <h2>Spike Test Test</h2>
            <div class="status-badge">Datos Reales Extraidos del JSON</div>
            <p>2025-08-20 18:10:08</p>
        </div>
        
        <div class="content">
            <div class="process-info">
                <h3>Proceso de 2 Pasos Completado Exitosamente</h3>
                <p><strong>PASO 1:</strong> k6 ejecuto el test y genero JSON con todas las metricas</p>
                <p><strong>PASO 2:</strong> Script PowerShell extrajo datos reales del JSON y genero este HTML</p>
                <p><strong>RESULTADO:</strong> Reporte visual con metricas reales de performance</p>
            </div>
            
            <div class="data-extract-info">
                <h3>Informacion de Extraccion de Datos</h3>
                <p><strong>Archivo JSON procesado:</strong> spike-final.json</p>
                <p><strong>TamaÃ±o del archivo:</strong> 56539.19 KB</p>
                <p><strong>Tipo de test:</strong> Spike Test</p>
                <p><strong>VUs Maximos detectados:</strong> 300 usuarios virtuales</p>
                <p><strong>Total de iteraciones:</strong> 3764 completadas</p>
            </div>
            
            <div class="metrics-grid">
                <div class="metric-card danger">>
                    <div class="metric-value">72.33%</div>
                    <div class="metric-label">Checks Exitosos</div>
                </div>
                
                <div class="metric-card danger">>>>
                    <div class="metric-value">4556.70ms</div>
                    <div class="metric-label">P95 Tiempo de Respuesta</div>
                </div>
                
                <div class="metric-card success">>
                    <div class="metric-value">0.04%</div>
                    <div class="metric-label">Tasa de Fallos HTTP</div>
                </div>
                
                <div class="metric-card info">
                    <div class="metric-value">2366.98ms</div>
                    <div class="metric-label">Tiempo Promedio</div>
                </div>
                
                <div class="metric-card warning">
                    <div class="metric-value">2415.62/s</div>
                    <div class="metric-label">Requests por Segundo</div>
                </div>
                
                <div class="metric-card info">
                    <div class="metric-value">20.02 MB</div>
                    <div class="metric-label">Datos Recibidos</div>
                </div>
            </div>
            
            <div class="thresholds-section">
                <h3>Evaluacion de Thresholds Empresariales</h3>
                
                <div class="threshold-item">
                    <span class="threshold-name"><strong>checks rate &gt; 99%:</strong> Validaciones exitosas</span>
                    <span class="badge-fail">FALLO - 72.33%</span>
                </div>
                
                <div class="threshold-item">
                    <span class="threshold-name"><strong>http_req_duration p95 &lt; 500ms:</strong> Tiempo de respuesta</span>
                    <span class="badge-fail">FALLO - 4556.70ms</span>
                </div>
                
                <div class="threshold-item">
                    <span class="threshold-name"><strong>http_req_failed rate &lt; 1%:</strong> Tasa de errores</span>
                    <span class="badge-pass">PASO - 0.04%</span>
                </div>
            </div>
            
            <div class="performance-summary">
                <h3>Resumen de Performance Extraido del JSON</h3>
                <p><strong>Exito de Validaciones:</strong> 72.33% de todas las verificaciones pasaron</p>
                <p><strong>Tiempo de Respuesta P95:</strong> 4556.70ms para el 95% de los requests</p>
                <p><strong>Tasa de Fallos:</strong> 0.04% de requests fallaron</p>
                <p><strong>Throughput:</strong> 2415.62/s de capacidad de procesamiento</p>
                <p><strong>Datos Transferidos:</strong> 20.02 MB total procesado</p>
                <p><strong>Carga Maxima:</strong> 300 usuarios virtuales simultaneos</p>
                <p><strong>Iteraciones Completadas:</strong> 3764 ciclos de test</p>
            </div>
            
            <div class="results-highlight">
                <h3>Analisis Detallado del Spike Test Test</h3>
                <p>Los datos mostrados fueron extraidos directamente del archivo JSON generado por k6. Este reporte refleja las metricas reales de performance del backend de la tienda de tennis.</p>
                <p><strong>Tiempo promedio:</strong> 2366.98ms por request</p>
                <p><strong>Capacidad:</strong> 2415.62/s requests procesados por segundo</p>
                <p><strong>Fiabilidad:</strong> 72.33% de validaciones exitosas</p>
                <p><strong>Escalabilidad:</strong> Probado con 300 usuarios simultaneos</p>
            </div>
            
            <div class="info-box">
                <h3>Acceso a Datos JSON Completos</h3>
                <p><strong>Archivo JSON con todas las metricas detalladas:</strong></p>
                <a href="spike-final.json" class="json-link" target="_blank">Abrir JSON Original: spike-final.json</a>
                
                <p><strong>Comandos PowerShell para analisis avanzado:</strong></p>
                <div class="command">Get-Content "spike-final.json" | ConvertFrom-Json | Select-Object -First 10</div>
                <div class="command">Get-Content "spike-final.json" | Where-Object { $_ -like '*metric*' } | Select-Object -First 5</div>
                <div class="command">Get-Content "spike-final.json" | Where-Object { $_ -like '*checks*' }</div>
            </div>
            
            <div class="info-box">
                <h3>Repetir el Proceso de 2 Pasos</h3>
                <p><strong>Para generar un nuevo JSON (Paso 1):</strong></p>
                <div class="command">.\step1-json.ps1 spike--test</div>
                
                <p><strong>Para convertir JSON a HTML (Paso 2):</strong></p>
                <div class="command">.\step2-html.ps1 -JsonFile "spike-final.json"</div>
                
                <p><strong>Para procesar todos los JSON existentes:</strong></p>
                <div class="command">.\step2-html.ps1 -ProcessAll</div>
                
                <p><strong>Para usar los scripts completos con manejo de errores:</strong></p>
                <div class="command">.\generate-json.ps1</div>
                <div class="command">.\generate-html.ps1</div>
            </div>
        </div>
        
        <div class="footer">
            <p>JSON procesado a HTML con datos reales | K6 Performance Testing | Tienda Tennis Backend</p>
            <p>Generado el 2025-08-20 18:10:08</p>
        </div>
    </div>
</body>
</html>
